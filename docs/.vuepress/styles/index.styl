// ============================================================
// 1. 首页特性卡片 (Features) 布局与动画
// ============================================================
.home-wrapper .features
  display: flex !important
  flex-wrap: wrap !important
  justify-content: center !important
  margin: 0 auto !important
  padding: 2rem 0 !important
  border-top: none !important

.home-wrapper .feature
  flex: 0 0 28% !important
  max-width: 28% !important
  text-align: center !important
  margin: 1rem 1% !important
  transition: all .3s // 悬停动画过渡
  
  &:hover
    transform: translateY(-5px)

@media (max-width: 959px)
  .home-wrapper .feature
    flex: 0 0 45% !important
    max-width: 45% !important

@media (max-width: $MQMobile)
  .home-wrapper .feature
    flex: 0 0 90% !important
    max-width: 90% !important


// ============================================================
// 2. Gitalk 评论区美化
// ============================================================
.gt-container
  .gt-ico-tip::after
    content: '。( Win + . ) 或 ( ⌃ + ⌘ + ␣ ) 打开表情'
    color: #999
    font-size: .8rem
  .gt-meta
    border-color var(--borderColor)!important
  .gt-comments-null
    color var(--textColor)
    opacity .5
  .gt-header-textarea
    color var(--textColor)
    background rgba(180,180,180,0.1)!important
  .gt-btn
    border-color $accentColor!important
    background-color $accentColor!important
  .gt-btn-preview
    background-color rgba(255,255,255,0)!important
    color $accentColor!important
  a
    color $accentColor!important
  .gt-svg svg
    fill $accentColor!important
  .gt-comment-content,.gt-comment-admin .gt-comment-content
    background-color rgba(150,150,150,0.1)!important
    &:hover
      box-shadow 0 0 25px rgba(150,150,150,.5)!important
    .gt-comment-body
      color var(--textColor)!important


// ============================================================
// 3. 社交图标 - QQ 徽章
// ============================================================
.qq
  position: relative
  &::after
    content: "可撩"
    background: $accentColor
    color: #fff
    padding: 0 5px
    border-radius: 10px
    font-size: 12px
    position: absolute
    top: -4px
    right: -35px
    transform: scale(0.85)


// ============================================================
// 4. 代码演示 (Demo Block) 插件美化
// ============================================================
body .vuepress-plugin-demo-block__wrapper
  &,.vuepress-plugin-demo-block__display
    border-color rgba(160,160,160,.3)
  .vuepress-plugin-demo-block__footer:hover
    .vuepress-plugin-demo-block__expand::before
      border-top-color: $accentColor !important
      border-bottom-color: $accentColor !important
    svg
      fill: $accentColor !important


// ============================================================
// 5. 搜索框优化 (防止移动端溢出)
// ============================================================
.suggestions
  overflow: auto
  max-height: calc(100vh - 6rem)
  @media (max-width: 719px)
    width: 90vw
    min-width: 90vw!important
    margin-right: -20px
  .highlight
    color: $accentColor
    font-weight: bold


// ============================================================
// 6. 细节修正：标题装饰线、感言换行
// ============================================================
h1::before, h2::before, h3::before,
.theme-vdoing-content h1::before,
.theme-vdoing-content h2::before,
.page-title h1::before
  display none !important

.blogger-wrapper .slogan
  white-space pre-wrap
  line-height 1.5
  margin-top 10px


// ============================================================
// 7. 全局固定背景图片
// ============================================================
#dynamic-background
  position: fixed
  top: 0
  left: 0
  width: 100%
  height: 100%
  z-index: -999 !important
  
  // --- 核心修改：指定固定图片路径 ---
  background-image: url('/img/bg/1.jpg') 
  background-size: cover
  background-position: center
  background-repeat: no-repeat
  
  // 调整透明度：0.1 到 1.0 之间。1.0 为完全不透明
  opacity: 0.5 



// ============================================================
// 8. 终极透明化：让背景图透出来
// ============================================================
// 移除所有顽固背景
.home-wrapper .banner,
.home-wrapper .features,
.home-wrapper .feature,
.footer,
.theme-vdoing-content,
.card-box,
.custom-block,
.main-wrapper,
.theme-vdoing-wrapper
  background: transparent !important
  border: none !important
  box-shadow: none !important
  background-image: none !important // 杀掉网格线

// 深色模式变量穿透
.theme-mode-dark
  --mainBg: transparent !important
  --contentBg: transparent !important
  --cardBg: transparent !important
  --sidebarBg: rgba(30, 30, 30, 0.5) !important
  --blurBg: transparent !important
  --codeBg: rgba(0, 0, 0, 0.3) !important

// 增强文字可读性（阴影）
.home-wrapper .banner h1,
.home-wrapper .banner .description,
.home-wrapper .feature h2,
.home-wrapper .feature p,
.blogger-wrapper .slogan
  text-shadow: 1px 1px 3px rgba(0,0,0,0.5)

// ============================================================
// 修正方案：全局文字白色 + 标签文字强力显示
// ============================================================

// 1. 全局基础文字颜色（强制白色）
body, #app, .theme-container
  color: #ffffff !important

// 2. 导航栏、侧边栏、文章标题
.navbar .site-name, .navbar .links,
.sidebar-links .sidebar-link,
.post-list .post .title a,
.blogger-wrapper .blogger-name,
.blogger-wrapper .slogan,
.categories-wrapper .title,
.tags-wrapper .title
  color: #ffffff !important
  text-shadow: 1px 1px 3px rgba(0, 0, 0, 0.5) !important

// 3. 【核心修复】针对标签 (Tags) 和 分类 (Categories)
// 确保彩色背景上的文字是纯白色且清晰的
.tags-wrapper a, 
.tag-item, 
.tags span,
.categories-wrapper a,
.post-list .post .post-info a,
.post-list .post .post-info span
  color: #ffffff !important      // 强制文字为白色
  text-shadow: none !important   // 必须去掉阴影，否则小字会糊
  font-weight: 600 !important    // 加粗文字
  display: inline-block
  opacity: 1 !important          // 确保完全不透明

// 4. 针对最近更新列表的文字
.post-list .post .description,
.post-list .post .post-info
  color: rgba(255, 255, 255, 0.9) !important

// 5. 搜索框文字颜色修复（防止搜索框里也是白的看不见字）
.search-box input
  color: #333333 !important      // 搜索框内部文字保持深色
  text-shadow: none !important
